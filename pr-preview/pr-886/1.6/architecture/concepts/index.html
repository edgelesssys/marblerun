<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.6 docs-doc-page docs-doc-id-architecture/concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Concepts | MarbleRun</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.edgeless.systems/marblerun/pr-preview/pr-886/1.6/architecture/concepts"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.6"><meta data-rh="true" name="docsearch:version" content="1.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.6"><meta data-rh="true" property="og:title" content="Concepts | MarbleRun"><meta data-rh="true" name="description" content="This article describes the concepts of confidential computing and service meshes which are key to the MarbleRun approach."><meta data-rh="true" property="og:description" content="This article describes the concepts of confidential computing and service meshes which are key to the MarbleRun approach."><link data-rh="true" rel="icon" href="/marblerun/pr-preview/pr-886/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.edgeless.systems/marblerun/pr-preview/pr-886/1.6/architecture/concepts"><link data-rh="true" rel="alternate" href="https://docs.edgeless.systems/marblerun/pr-preview/pr-886/1.6/architecture/concepts" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.edgeless.systems/marblerun/pr-preview/pr-886/1.6/architecture/concepts" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Concepts","item":"https://docs.edgeless.systems/marblerun/pr-preview/pr-886/1.6/architecture/concepts"}]}</script><script src="/marblerun/gtagman.js" async data-cookieconsent="ignore"></script><link rel="stylesheet" href="/marblerun/pr-preview/pr-886/assets/css/styles.85a93fef.css">
<script src="/marblerun/pr-preview/pr-886/assets/js/runtime~main.b86ecad2.js" defer="defer"></script>
<script src="/marblerun/pr-preview/pr-886/assets/js/main.fcd179be.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/marblerun/pr-preview/pr-886/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/marblerun/pr-preview/pr-886/"><div class="navbar__logo"><img src="/marblerun/pr-preview/pr-886/img/logo.svg" alt="MarbleRun Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/marblerun/pr-preview/pr-886/img/logo.svg" alt="MarbleRun Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/marblerun/pr-preview/pr-886/1.6/architecture/concepts">1.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/next/architecture/concepts">Next</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/architecture/concepts">1.8</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/1.7/architecture/concepts">1.7</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/marblerun/pr-preview/pr-886/1.6/architecture/concepts">1.6</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/1.5/architecture/concepts">1.5</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/1.4/architecture/concepts">1.4</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/1.3/architecture/concepts">1.3</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/1.2/architecture/concepts">1.2</a></li><li><a class="dropdown__link" href="/marblerun/pr-preview/pr-886/1.1/">1.1</a></li></ul></div><a href="https://github.com/edgelesssys/marblerun" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-1.6"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/marblerun/pr-preview/pr-886/1.6/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/marblerun/pr-preview/pr-886/1.6/getting-started/installation"><span title="Getting started" class="categoryLinkLabel_W154">Getting started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/marblerun/pr-preview/pr-886/1.6/features/manifest"><span title="Features" class="categoryLinkLabel_W154">Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/marblerun/pr-preview/pr-886/1.6/deployment/kubernetes"><span title="Deployment" class="categoryLinkLabel_W154">Deployment</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/marblerun/pr-preview/pr-886/1.6/workflows/define-manifest"><span title="Workflows" class="categoryLinkLabel_W154">Workflows</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/marblerun/pr-preview/pr-886/1.6/architecture/concepts"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/marblerun/pr-preview/pr-886/1.6/architecture/concepts"><span title="Concepts" class="linkLabel_WmDU">Concepts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/marblerun/pr-preview/pr-886/1.6/architecture/coordinator"><span title="Coordinator" class="linkLabel_WmDU">Coordinator</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/marblerun/pr-preview/pr-886/1.6/architecture/marbles"><span title="Marbles" class="linkLabel_WmDU">Marbles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/marblerun/pr-preview/pr-886/1.6/architecture/security"><span title="Keys and cryptography" class="linkLabel_WmDU">Keys and cryptography</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/marblerun/pr-preview/pr-886/1.6/building-marbles/ego"><span title="Building Marbles" class="categoryLinkLabel_W154">Building Marbles</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/marblerun/pr-preview/pr-886/1.6/reference/coordinator"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->MarbleRun<!-- --> <b>1.6</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/marblerun/pr-preview/pr-886/architecture/concepts">latest version</a></b> (<!-- -->1.8<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/marblerun/pr-preview/pr-886/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Concepts</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Concepts</h1></header>
<p>This article describes the concepts of <a href="#confidential-computing" class="">confidential computing</a> and <a href="#service-meshes" class="">service meshes</a> which are key to the <a href="#marblerun-approach" class="">MarbleRun approach</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="confidential-computing">Confidential computing<a href="#confidential-computing" class="hash-link" aria-label="Direct link to Confidential computing" title="Direct link to Confidential computing" translate="no">​</a></h2>
<p>Confidential computing protects data in use by performing computations in hardware-based secure enclaves. The most prominent enclave to date is probably <a href="https://www.intel.de/content/www/de/de/architecture-and-technology/software-guard-extensions.html" target="_blank" rel="noopener noreferrer" class="">Intel SGX</a>.
Enclaves prevent unauthorized access or modification of applications and data while in use, thereby increasing the security assurances for organizations that manage sensitive and regulated data.
For information about confidential computing, see the Confidential Computing Consortium <a href="https://confidentialcomputing.io/resources/white-papers-reports/" target="_blank" rel="noopener noreferrer" class="">white paper</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="service-meshes">Service meshes<a href="#service-meshes" class="hash-link" aria-label="Direct link to Service meshes" title="Direct link to Service meshes" translate="no">​</a></h2>
<p>A service mesh is an infrastructure layer for managing, observing, and securing communications in a container-based cluster. In the Kubernetes world, <a href="https://istio.io" target="_blank" rel="noopener noreferrer" class="">Istio</a>, <a href="https://developer.hashicorp.com/consul" target="_blank" rel="noopener noreferrer" class="">HashiCorp Consul</a>, and <a href="https://linkerd.io/" target="_blank" rel="noopener noreferrer" class="">Linkerd</a> are the most popular general-purpose service meshes.</p>
<p>When we started looking into the concept of <em>confidential microservices</em>, we realized that there are additional challenges and requirements for service meshes in the context of confidential computing.</p>
<ul>
<li class="">How to make an entire cluster or distributed app verifiable in a meaningful way from the outside?</li>
<li class="">How to establish secure connections to a distributed app based on this?</li>
<li class="">How to establish secure connections between services within a cluster based on remote attestation?</li>
<li class="">How to securely and safely restart and migrate services between nodes?</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="marblerun-approach">MarbleRun approach<a href="#marblerun-approach" class="hash-link" aria-label="Direct link to MarbleRun approach" title="Direct link to MarbleRun approach" translate="no">​</a></h2>
<p>Most general-purpose service meshes are implemented using so-called <em>sidecars</em>. The most prevalent sidecar is probably <a href="https://www.envoyproxy.io/" target="_blank" rel="noopener noreferrer" class="">Envoy</a>.
In essence, sidecars are network proxies that are injected into <em>pods</em> running application containers. Sidecars observe, control, and often encrypt the network communication between application containers. Sidecars are often referred to as the data plane, in relation to the so-called control plane.
The control plane manages and configures the sidecars to route traffic, enforce policies, and collect stats.</p>
<p>Security-wise, conventional service meshes focus on protecting data in transit between application containers.
In contrast, distributed confidential apps require a more comprehensive approach and careful consideration of security implications.</p>
<p>In summary, MarbleRun takes the following approach.</p>
<ul>
<li class="">Instead of relying on separate sidecars, MarbleRun injects the data-plane logic directly into the application logic running inside secure enclaves. Through this tight coupling, secure connections always terminate inside secure enclaves. We refer to containers running such enclaves as <em>Marbles</em>.</li>
<li class="">Before bootstrapping Marbles, MarbleRun verifies their integrity using Intel SGX remote attestation primitives. This way, MarbleRun is able to guarantee that the topology of a  distributed confidential app adheres to the cluster&#x27;s effective <a class="" href="/marblerun/pr-preview/pr-886/1.6/features/manifest">manifest</a>.</li>
<li class="">MarbleRun acts as a certificate authority for all Marble-based services and issues one concise remote attestation statement for the entire cluster. This can be used by anyone to verify the integrity of a distributed confidential app.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/edgelesssys/marblerun/edit/master/docs/versioned_docs/version-1.6/architecture/concepts.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/marblerun/pr-preview/pr-886/1.6/workflows/recover-coordinator"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Recover the Coordinator</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/marblerun/pr-preview/pr-886/1.6/architecture/coordinator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Coordinator</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#confidential-computing" class="table-of-contents__link toc-highlight">Confidential computing</a></li><li><a href="#service-meshes" class="table-of-contents__link toc-highlight">Service meshes</a></li><li><a href="#marblerun-approach" class="table-of-contents__link toc-highlight">MarbleRun approach</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/edgelesssys/marblerun" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.edgeless.systems/#footer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/EdgelessSystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/edgeless-systems/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCOOInN0sCv6icUesisYIDeA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/imprint/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.edgeless.systems/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="javascript: Cookiebot.renew()" class="footer__link-item">Cookie Settings</a></li><li class="footer__item"><a href="https://www.edgeless.systems/contact-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Edgeless Systems</div></div></div></footer></div>
</body>
</html>