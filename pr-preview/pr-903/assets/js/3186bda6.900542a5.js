"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7470],{28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(96540);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}},38372:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"workflows/set-manifest","title":"Setting a manifest","description":"After you\'ve defined a manifest, use it to initialize your MarbleRun deployment.","source":"@site/docs/workflows/set-manifest.md","sourceDirName":"workflows","slug":"/workflows/set-manifest","permalink":"/marblerun/pr-preview/pr-903/next/workflows/set-manifest","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/marblerun/edit/master/docs/docs/workflows/set-manifest.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Define a manifest","permalink":"/marblerun/pr-preview/pr-903/next/workflows/define-manifest"},"next":{"title":"Add a service","permalink":"/marblerun/pr-preview/pr-903/next/workflows/add-service"}}');var o=n(74848),s=n(28453);const i={},a="Setting a manifest",c={},d=[];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"setting-a-manifest",children:"Setting a manifest"})}),"\n",(0,o.jsxs)(t.p,{children:["After you've ",(0,o.jsx)(t.a,{href:"/marblerun/pr-preview/pr-903/next/workflows/define-manifest",children:"defined a manifest"}),", use it to initialize your MarbleRun deployment."]}),"\n",(0,o.jsx)(t.p,{children:"Set the manifest using the MarbleRun CLI:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"marblerun manifest set manifest.json $MARBLERUN\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The command first performs ",(0,o.jsx)(t.a,{href:"/marblerun/pr-preview/pr-903/next/features/attestation#coordinator-deployment",children:"remote attestation on the Coordinator"})," before uploading the manifest.\nIf successful, the TLS root certificate of the Coordinator is saved for future connections with the MarbleRun instance.\nThis ensures you are always talking to the same instance the manifest was uploaded to."]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["By default the certificate is saved to ",(0,o.jsx)(t.code,{children:"$XDG_CONFIG_HOME/marblerun/coordinator-cert.pem"}),",\nor ",(0,o.jsx)(t.code,{children:"$HOME/.config/marblerun/coordinator-cert.pem"})," if ",(0,o.jsx)(t.code,{children:"$XDG_CONFIG_HOME"})," isn't set.\nSubsequent CLI commands will try loading the certificate from that location.\nUse the ",(0,o.jsx)(t.code,{children:"--coordinator-cert"})," flag to choose your own location to save or load the certificate."]})}),"\n",(0,o.jsxs)(t.p,{children:["If the manifest contains a ",(0,o.jsx)(t.code,{children:"RecoveryKeys"})," entry, you will receive a JSON reply including the recovery secrets, encrypted with the public keys supplied in ",(0,o.jsx)(t.code,{children:"RecoveryKeys"}),"."]}),"\n",(0,o.jsx)(t.admonition,{type:"caution",children:(0,o.jsxs)(t.p,{children:["Keep these values somewhere safe. Without it, you can't ",(0,o.jsx)(t.a,{href:"/marblerun/pr-preview/pr-903/next/features/recovery",children:"recover the Coordinator"}),"."]})})]})}function f(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);