"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3410],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var r=i(96540);const a={},s=r.createContext(a);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},64662:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"deployment/platforms/alibaba","title":"Alibaba Cloud MarbleRun deployment","description":"Alibaba Cloud Container Service for Kubernetes (ACK)","source":"@site/versioned_docs/version-1.8/deployment/platforms/alibaba.md","sourceDirName":"deployment/platforms","slug":"/deployment/platforms/alibaba","permalink":"/marblerun/pr-preview/pr-901/deployment/platforms/alibaba","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/marblerun/edit/master/docs/versioned_docs/version-1.8/deployment/platforms/alibaba.md","tags":[],"version":"1.8","frontMatter":{},"sidebar":"docs","previous":{"title":"Azure","permalink":"/marblerun/pr-preview/pr-901/deployment/platforms/azure"},"next":{"title":"On-premises","permalink":"/marblerun/pr-preview/pr-901/deployment/platforms/on-prem"}}');var a=i(74848),s=i(28453);const l={},t="Alibaba Cloud MarbleRun deployment",o={},d=[{value:"Alibaba Cloud Container Service for Kubernetes (ACK)",id:"alibaba-cloud-container-service-for-kubernetes-ack",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Deploy MarbleRun",id:"deploy-marblerun",level:3},{value:"Alibaba Cloud Elastic Compute Service",id:"alibaba-cloud-elastic-compute-service",level:2},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Deploy MarbleRun",id:"deploy-marblerun-1",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"alibaba-cloud-marblerun-deployment",children:"Alibaba Cloud MarbleRun deployment"})}),"\n",(0,a.jsx)(n.h2,{id:"alibaba-cloud-container-service-for-kubernetes-ack",children:"Alibaba Cloud Container Service for Kubernetes (ACK)"}),"\n",(0,a.jsxs)(n.p,{children:["Alibaba Cloud Container Service for Kubernetes (ACK) offers a popular deployment technique relying on Alibaba's cloud resources.\n",(0,a.jsx)(n.a,{href:"https://www.alibabacloud.com/help/en/ack/ack-managed-and-ack-dedicated/user-guide/tee-based-confidential-computing",children:"ACK hosts Kubernetes pods in SGX-capable Alibaba VMs"})," and exposes the underlying SGX hardware."]}),"\n",(0,a.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Follow the instructions on the ",(0,a.jsx)(n.a,{href:"https://www.alibabacloud.com/help/en/ack/ack-managed-and-ack-dedicated/user-guide/create-an-ack-managed-cluster-for-confidential-computing",children:"ACK Confidential Computing Quick Start guide"})," to provision an ACK cluster with Intel SGX-enabled worker nodes."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"deploy-marblerun",children:"Deploy MarbleRun"}),"\n",(0,a.jsxs)(n.p,{children:["See the ",(0,a.jsx)(n.a,{href:"/marblerun/pr-preview/pr-901/deployment/kubernetes",children:"Kubernetes guide"})," on installing MarbleRun in your ACK cluster."]}),"\n",(0,a.jsx)(n.h2,{id:"alibaba-cloud-elastic-compute-service",children:"Alibaba Cloud Elastic Compute Service"}),"\n",(0,a.jsxs)(n.p,{children:["With 7th-generation ",(0,a.jsx)(n.a,{href:"https://www.alibabacloud.com/help/en/ecs/user-guide/overview-25",children:"security-enhanced ECS instances"}),", users can use Intel SGX on Alibaba Cloud.\nYou can follow the guide for creating a ",(0,a.jsx)(n.a,{href:"https://www.alibabacloud.com/help/en/ecs/user-guide/create-a-security-enhanced-instance",children:"g7t, c7t, or r7t"})," instance."]}),"\n",(0,a.jsx)(n.p,{children:"The description below uses a VM running Ubuntu 18.04."}),"\n",(0,a.jsx)(n.h3,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install Intel DCAP Quote Provider Library"}),"\n",(0,a.jsx)(n.p,{children:"Add the Intel SGX APT repository:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"wget -qO - https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key | sudo apt-key add -\necho 'deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu bionic main' | sudo tee /etc/apt/sources.list.d/intel-sgx.list\n"})}),"\n",(0,a.jsx)(n.p,{children:"Download and install the QPL:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install libsgx-dcap-default-qpl\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Set configuration for Alibaba Cloud SGX remote attestation service"}),"\n",(0,a.jsxs)(n.p,{children:["Alibaba Cloud provides a PCCS for remote attestation deployed per region. For optimal stability, accessing the service in your instance's region is recommended.\nThe configuration is set in ",(0,a.jsx)(n.code,{children:"/etc/sgx_default_qcnl.conf"}),"."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If your instance is assigned a public IP address, change the configuration to the following, where ",(0,a.jsx)(n.code,{children:"[Region-ID]"})," is the ID of your instance's region:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"PCCS_URL=https://sgx-dcap-server.[Region-ID].aliyuncs.com/sgx/certification/v4/\nUSE_SECURE_CERT=TRUE\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If your instance is in a virtual private cloud and has only internal IP addresses, change the configuration to the following, where ",(0,a.jsx)(n.code,{children:"[Region-ID]"})," is the ID of your instance's region:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"PCCS_URL=https://sgx-dcap-server-vpc.[Region-ID].aliyuncs.com/sgx/certification/v4/\nUSE_SECURE_CERT=TRUE\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["Currently, the Alibaba Cloud SGX remote attestation service is only supported within ",(0,a.jsx)(n.a,{href:"https://www.alibabacloud.com/help/en/ecs/user-guide/build-an-sgx-encrypted-computing-environment",children:"mainland China regions, Singapore, and Indonesia"})]})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/edgelesssys/ego#install",children:"Update and install EGo"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"deploy-marblerun-1",children:"Deploy MarbleRun"}),"\n",(0,a.jsxs)(n.p,{children:["You can run MarbleRun standalone on your Alibaba Cloud ECS VM. See the ",(0,a.jsx)(n.a,{href:"/marblerun/pr-preview/pr-901/deployment/standalone",children:"standalone guide"}),".\nAlternatively, you can install a Kubernetes cluster. Probably the simplest option would be ",(0,a.jsx)(n.a,{href:"https://minikube.sigs.k8s.io/docs/start/",children:"minikube"}),". See the ",(0,a.jsx)(n.a,{href:"/marblerun/pr-preview/pr-901/deployment/kubernetes",children:"Kubernetes guide"})," on how to install MarbleRun in minikube."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);